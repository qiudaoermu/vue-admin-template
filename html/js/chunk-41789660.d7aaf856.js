(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41789660"],{5233:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("el-dialog",{attrs:{title:"自定义场景",visible:e.dialogFormVisible,width:"460px","custom-class":"deviceContainer"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"场景名称:","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"场景描述:","label-width":e.formLabelWidth,prop:"descInfo"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.descInfo,callback:function(t){e.$set(e.form,"descInfo",t)},expression:"form.descInfo"}})],1),a("el-form-item",{attrs:{label:"场景图片:","label-width":e.formLabelWidth,prop:"protocol"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.action,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addDevice}},[e._v("确 定")])],1)],1),e._l(e.box,(function(t){return a("div",{staticClass:"dashboard-box",on:{click:function(a){return e.gotoInfo(t)}}},[t.deployStatus?a("div",{staticClass:"deploy"},[e._v("已部署")]):e._e(),a("img",{staticClass:"boxImg",attrs:{src:t.imageUrl}}),a("span",[e._v(e._s(t.sceneName))])])})),a("div",{staticClass:"dashboard-box",on:{click:function(t){e.dialogFormVisible=!0}}},[e._m(0)])],2)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-icon"},[a("div",[a("i",{staticClass:"el-icon-document-add"})]),a("div",[a("span",{staticStyle:{"font-size":"14px"}},[e._v("新增内容")])])])}],n=a("5530"),s=(a("b0c0"),a("2f62")),i=(a("aa98"),a("644f")),c={name:"Dashboard",computed:Object(n["a"])({},Object(s["b"])(["name"])),data:function(){return{imageUrl:"",action:"http://192.168.1.100:9191/admin/file/upload",fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],rules:{name:[{required:!0,message:"请选择设备名称",trigger:"change"}],type:[{required:!0,message:"请选择设备类型",trigger:"change"}],descInfo:[{required:!0,message:"请添加描述",trigger:"change"}],port:[{required:!0,message:"请选择IP端口",trigger:"change"}]},formLabelWidth:"120px",dialogFormVisible:!1,box:[],form:{name:"",descInfo:""}}},methods:{addDevice:function(){var e=this;this.dialogFormVisible=!1,Object(i["h"])({sceneDesc:this.form.descInfo,sceneName:this.form.name,imageUrl:this.imageUrl}).then((function(t){e.$router.push({path:"/info",query:{id:t.data.id}})}))},gotoInfo:function(e){this.$router.push({path:"/info",query:{id:e.id}})},handleAvatarSuccess:function(e,t){this.imageUrl=e.data.fileUrl;var a=new FileReader;a.readAsDataURL(t.raw),a.onload=function(e){}},beforeAvatarUpload:function(e){var t=e.size/1024/1024<10;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}},created:function(){var e=this;Object(i["b"])().then((function(t){e.box=t.data,console.log(t.data,"------res")}))}},l=c,u=(a("90ea"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"4b75c2dc",null);t["default"]=d.exports},"644f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return f}));var r=a("5530"),o=a("b775");function n(e){return Object(o["a"])({url:"/process/getProcess",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/process/getSceneList",method:"post",params:e})}function i(e){return Object(o["a"])({url:"/process/getServiceList",method:"post",params:e})}function c(e){return Object(o["a"])({url:"/process/saveProcess",method:"post",data:Object(r["a"])({},e)})}function l(e){return Object(o["a"])({url:"/process/getSceneInfoList",method:"get",params:e})}function u(e){return Object(o["a"])({url:"/process/saveSceneInfo",method:"post",data:Object(r["a"])({},e)})}function d(e){return Object(o["a"])({url:"/process/getSceneProcess",method:"get",params:e})}function f(e){return Object(o["a"])({url:"/process/modifyProcess",method:"post",data:Object(r["a"])({},e)})}},"85f1":function(e,t,a){},"90ea":function(e,t,a){"use strict";a("85f1")},aa98:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/screen/getDeviceList",method:"post",params:e})}function n(e){return Object(r["a"])({url:"/screen/addDevice",method:"post",data:e})}}}]);